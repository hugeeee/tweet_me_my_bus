<h1><%= @title %></h1>

<%= form_for(@alert) do |f| %>
	<script type="text/javascript">
//<![CDATA[
// array of possible countries in the same order as they appear in the country selection list
var stopLists = new Array(4)
countryLists["empty"] = ["Select a Country"];
countryLists["North America"] = ["Canada", "United States", "Mexico"];
countryLists["South America"] = ["Brazil", "Argentina", "Chile", "Ecuador"];
countryLists["Asia"] = ["Russia", "China", "Japan"];
countryLists["Europe"]= ["Britain", "France", "Spain", "Germany"];
/* CountryChange() is called from the onchange event of a select element.
 * param selectObj - the select object which fired the on change event.
 */
function countryChange(selectObj) {
	// get the index of the selected option
	var idx = selectObj.selectedIndex;
	// get the value of the selected option
	var which = selectObj.options[idx].value;
	// use the selected option value to retrieve the list of items from the coutnryLists array
	cList = countryLists[which];
	// get the country select element via its known id
	var cSelect = document.getElementById("country");
	// remove the current options from the country select
	var len=cSelect.options.length;
	while (cSelect.options.length > 0) {
		cSelect.remove(0);
	}
	var newOption;
	// create new options
	for (var i=0; i<cList.length; i++) {
		newOption = document.createElement("option");
		newOption.value = cList[i];  // assumes option string and value are the same
		newOption.text=cList[i];
		// add the new option
		try {
			cSelect.add(newOption);  // this will fail in DOM browsers but is needed for IE
		}
		catch (e) {
			cSelect.appendChild(newOption);

		}
	}
}
//]]>
</script>

  <div class="field">
    <%= f.label :bus_route %><br />
    <%= f.select(:bus_route, Alert::ROUTES, {:include_blank => "Please select route"}) %>
  </div>
  <div class="field">
    <%= f.label :stop %><br />
    <%= f.select(:stop, Alert::STOPS, {:include_blank => "Please select stop"}) %>
  </div>
	<div class="field">
    <%= f.label :days_of_notification %><br />
    <%= f.select(:days_of_notification, Alert::DAYS, {:include_blank => "Please select alert days"}) %>
  </div>
  <div class="field">
    <%= f.label :first_alert %><br />
    <%= f.text_field :first_alert %>
  </div>
  <div class="field">
    <%= f.label :second_alert %><br />
    <%= f.text_field :second_alert %>
  </div>

	<div class="field">
    <%= f.label :third_alert %><br />
    <%= f.text_field :third_alert %>
  </div>

	<div class="field">
    <%= f.label :active %><br />
    <%= f.check_box :active %>
  </div>


  <div class="actions">
    <%= f.submit "Update" %>
  </div>
<% end %>
