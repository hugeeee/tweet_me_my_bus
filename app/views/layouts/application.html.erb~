<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <%= csrf_meta_tag %>
    <%= render 'layouts/stylesheets' %>
		<%= javascript_include_tag :defaults %>

		<script type="text/javascript">
//<![CDATA[
// array of possible countries in the same order as they appear in the country selection list
var stopLists = new Array(10)
stopLists["empty"] = ["Select a Bus Route"];
stopLists["The 00:30 To Wexford"] = ["Dublin Airport (Coach Park)", "Arklow - Old Dublin Rd", "Gorey", "Camolin", "Ferns", "Enniscorthy", "Oylgate", "Wexford"];

stopLists["The 06:30 To Wexford"] = ["Dublin Airport (Coach Park)", "Arklow - Old Dublin Rd", "Gorey", "Camolin", "Ferns", "Enniscorthy", "Oylgate", "Wexford"];

stopLists["The 08:30 To Wexford"] = ["Dublin Airport (Coach Park)", "Northwall/O2 Arena", "Georges Quay", "Lr Merrion St (Irish American College)", "Montrose Hotel (UCD)", "Arklow - Old Dublin Rd", "Gorey", "Camolin", "Ferns", "Enniscorthy", "Oylgate", "Wexford"];

stopLists["The 10:30 To Wexford"]= ["Dublin Airport (Coach Park)", "Northwall/O2 Arena", "Georges Quay", "Lr Merrion St (Irish American College)", "Montrose Hotel (UCD)", "Arklow - Old Dublin Rd", "Gorey", "Camolin", "Ferns", "Enniscorthy", "Oylgate", "Wexford"];

stopLists["The 12:30 To Wexford"] = ["Dublin Airport (Coach Park)", "Northwall/O2 Arena", "Georges Quay", "Lr Merrion St (Irish American College)", "Montrose Hotel (UCD)", "Arklow - Old Dublin Rd", "Gorey", "Camolin", "Ferns", "Enniscorthy", "Oylgate", "Wexford"];

stopLists["The 14:30 To Wexford"] = ["Dublin Airport (Coach Park)", "Northwall/O2 Arena", "Georges Quay", "Lr Merrion St (Irish American College)", "Montrose Hotel (UCD)", "Arklow - Old Dublin Rd", "Gorey", "Camolin", "Ferns", "Enniscorthy", "Oylgate", "Wexford"];

stopLists["The 16:30 To Wexford"] = ["Dublin Airport (Coach Park)", "Northwall/O2 Arena", "Georges Quay", "Lr Merrion St (Irish American College)", "Montrose Hotel (UCD)", "Arklow - Old Dublin Rd", "Gorey", "Camolin", "Ferns", "Enniscorthy", "Oylgate", "Wexford"];

stopLists["The 17:15 To Wexford"] = ["Dublin Airport (Coach Park)", "Northwall/O2 Arena", "Georges Quay", "Lr Merrion St (Irish American College)", "Montrose Hotel (UCD)", "Arklow - Old Dublin Rd", "Gorey", "Camolin", "Ferns", "Enniscorthy", "Oylgate", "Wexford"];

stopLists["The 19:30 To Wexford"] = ["Dublin Airport (Coach Park)", "Northwall/O2 Arena", "Georges Quay", "Lr Merrion St (Irish American College)", "Montrose Hotel (UCD)", "Arklow - Old Dublin Rd", "Gorey", "Camolin", "Ferns", "Enniscorthy", "Oylgate", "Wexford"];

stopLists["The 22:30 To Wexford"] = ["Dublin Airport (Coach Park)", "Northwall/O2 Arena", "Georges Quay", "Lr Merrion St (Irish American College)", "Montrose Hotel (UCD)", "Arklow - Old Dublin Rd", "Gorey", "Camolin", "Ferns", "Enniscorthy", "Oylgate", "Wexford"];

/* CountryChange() is called from the onchange event of a select element.
 * param selectObj - the select object which fired the on change event.
 */
function busChange(selectObj) {
	// get the index of the selected option
	var idx = selectObj.selectedIndex;
	// get the value of the selected option
	var which = selectObj.options[idx].value;
	// use the selected option value to retrieve the list of items from the coutnryLists array
	cList = stopLists[which];
	// get the country select element via its known id
	var cSelect = document.getElementById("stop");
	// remove the current options from the country select
	var len=cSelect.options.length;
	while (cSelect.options.length > 0) {
		cSelect.remove(0);
	}
	var newOption;
	// create new options
	for (var i=0; i<cList.length; i++) {
		newOption = document.createElement("option");
		newOption.value = cList[i];  // assumes option string and value are the same
		newOption.text=cList[i];
		// add the new option
		try {
			cSelect.add(newOption);  // this will fail in DOM browsers but is needed for IE
		}
		catch (e) {
			cSelect.appendChild(newOption);

		}
	}
}
//]]>
</script>

  </head>
  <body>
    <div class="container">
        <%= render 'layouts/header'%>
      <section class="round">
      	<% flash.each do |key, value| %>
          <div class="flash <%= key %>"><%= value %></div>
        <% end %>
        <%= yield %>
      </section>
      <%= render 'layouts/footer' %>
      <%= debug(params) if Rails.env.development? %>
    </div>
  </body>
</html>
